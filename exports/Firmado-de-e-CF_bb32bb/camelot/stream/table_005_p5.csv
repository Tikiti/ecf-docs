"// Se agrega la referencia del algoritmo de firma utilizado."
"Reference reference = new Reference();"
"reference.AddTransform(new XmlDsigEnvelopedSignatureTransform());"
"reference.DigestMethod = ""http://www.w3.org/2001/04/xmlenc#sha256"";"
"reference.Uri = """";"
"signedXml.AddReference(reference);"
"// Se agrega la información del certificado utilizado para la firma."
"KeyInfo keyInfo = new KeyInfo();"
"keyInfo.AddClause(new KeyInfoX509Data(cert));"
"signedXml.KeyInfo = keyInfo;"
"// Generate the signature."
"signedXml.ComputeSignature();"
"//Obtenemos la representación del XML firmado y la guardamos en un XmlElement object"
"XmlElement xmlFirmaDigital = signedXml.GetXml();"
"//Adicionamos el elemento de la firma al documento XML."
"xmlDoc.DocumentElement.AppendChild(xmlDoc.ImportNode(xmlFirmaDigital, true));"
"return xmlDoc;"
"}"
"catch (Exception ex)"
"{"
"throw ex;"
"}"
