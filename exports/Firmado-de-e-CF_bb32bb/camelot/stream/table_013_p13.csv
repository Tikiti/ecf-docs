"prefixesInScope.push(attr.prefix);"
"}"
"}"
"}"
"if(Array.isArray(ancestorNamespaces) && ancestorNamespaces.length > 0){"
"// Eliminar espacios de nombres que ya est√°n presentes en nsListToRender"
"for(var p1 in ancestorNamespaces){"
"if(!ancestorNamespaces.hasOwnProperty(p1)) continue;"
"var alreadyListed = false;"
"for(var p2 in nsListToRender){"
"if(nsListToRender[p2].prefix === ancestorNamespaces[p1].prefix"
"&& nsListToRender[p2].namespaceURI === ancestorNamespaces[p1].namespaceURI)"
"{"
"alreadyListed = true;"
"}"
"}"
"if(!alreadyListed){"
"nsListToRender.push(ancestorNamespaces[p1]);"
"}"
"}"
"}"
"nsListToRender.sort(this.nsCompare);"
"//renderizar espacios de nombres"
"for (a in nsListToRender) {"
"if (!nsListToRender.hasOwnProperty(a)) { continue; }"
"p = nsListToRender[a];"
"res.push("" xmlns:"", p.prefix, '=""', p.namespaceURI, '""');"
"}"
"return {""rendered"": res.join(""""), ""newDefaultNs"": newDefaultNs};"
"};"
"// Obtiene  el texto de caracteres encodeados"
"private static get_xml_special_to_encoded_text(attributeValue) {"
"var xml_special_to_encoded_attribute = {"
"'&': '&amp;',"
"'<': '&lt;',"
"'""': '&quot;',"
"'\r': '',"
"'\n': '',"
"'\t': '&#x9;',"
"""'"" : '&apos;',"
"'>' : '&gt;'"
"12"
